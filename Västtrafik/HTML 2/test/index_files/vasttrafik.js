(function(h){function T(b,e){var k=h.extend(q,b);e.faq&&window.JSON&&(k=h.extend(k,JSON.parse(e.faq)));q=k}function ba(){var b,e=this,k=setInterval(function(){b!=window.location.hash&&(b=window.location.hash,h(e).trigger("changed",{hash:window.location.hash}))},100);this.change=function(b){h(e).bind("changed",b)};this.dispose=function(){clearInterval(k)}}function ca(b,e){var k=jQuery.grep(b.Parameters,function(b){return b.Key===e});return 0==k.length?null:k[0].Value}function da(b,e){if(!b)return{};
var k=b.replace(/^\?/g,"").split(e),p={},n;for(n in k){var j=k[n].split("="),h=j[0].replace(/^\s+|\s+$/g,"");h&&(p[h]=decodeURIComponent((j[1]||"").replace(/\+/g," ")))}return p}function ea(b,e,k){return{knowledgeBase:new Humany.KnowledgeBaseServiceProxy(b,e,k),article:new Humany.KnowledgeArticleServiceProxy(b,e,k),category:new Humany.CategoryServiceProxy(b,e,k)}}function U(b,e,k){b=parseInt(b);e=parseInt(e);k=parseInt(k);for(var p=[],n=Math.ceil(b/k),j=0;j<n;j++)p.push({number:j+1,active:j+1==e});
return{show:b>k,first:{show:1<e,number:1},prev:{show:1<e,number:e-1},next:{show:e<b/k,number:e+1},last:{show:e<b/k,number:n},pages:p}}function na(b,e){return b.Id==e.Id}function V(b){if(h.scrollTo){var e=h(window).scrollTop();h(b).offset().top<e&&h.scrollTo(b,300)}}function W(){return h("html").hasClass("faq")}function oa(b){T(b,da(window.location.hash.substr(window.location.hash.indexOf("?")),"&"));fa("#faq-primary",function(){q.debug&&h(document).bind("clearedsearchbox.faq,optionchange.faq,searchcommand.faq,typedcharacter.faq,focusedsearchbox.faq,resizedui.faq,categorycommand.faq,showcommand.faq,pagingcommand.faq,updatedcategories.faq,updatingcategories.faq,retrievedcategories.faq,articlesearch.faq,articlesearchcomplete.faq,documentsearch.faq,documentsearchcomplete.faq",
function(){});var b=function(b,j){function e(n){u.render(b,{texts:q.text,items:n,header:q.texts.CommonQuestions,showNumbers:!!b});u.category(j.Id);h(document).trigger("updatedcategories.faq",{categories:n,question:b})}u.question===b&&u&&u.category().Id==j.Id||(h(document).trigger("updatingcategories.faq",{question:b}),b?D.knowledgeBase.knowledgeArticleSearchCategoryDistribution(b,e):D.category.getAll({expandChildren:!0},function(b){e(b);h(document).trigger("retrievedcategories.faq",{categories:b})}))},
k=function(b){x.hide();s.hide();G.hide();B.show();z.set(b.Title);r.render({body:b.Body,title:b.Title,article:b});V(r.el);h("#faq-related").addClass("faq-loading");var j;j=b.Categories;var e=function(b){return b.Children&&b.Children.length?e(b.Children[0]):b.Id};j=!j?null:j.length?e(j[0]):null;D.article.getAll({categoryId:j,page:1,pageSize:q.relatedSize+1,sorting:Humany.KnowledgeArticleSorting.popularity,expandCategories:!0},function(j){var e=[b],n=na;j={items:jQuery.grep(j.Items,function(b){return 0==
jQuery.grep(e,function(j){return n(b,j)}).length}).slice(0,q.relatedSize),totalCount:j.TotalItems,page:1};A.render({header:q.texts.RelatedQuestions,paging:{show:!1},items:j.items,query:j.query,page:j.page,category:j.category});h("#faq-related").removeClass("faq-loading")})},p=function(b,j,e){function n(b){k.items=b.Items;k.totalCount=b.TotalItems;h(document).trigger("articlesearchcomplete.faq",k)}h(document).trigger("articlesearch.faq");var k={query:b,category:e,page:j};b?D.knowledgeBase.knowledgeArticleSearch(b||
"",e.Id,j,q.pageSize,n):D.article.getAll({categoryId:e.Id,page:j,pageSize:q.pageSize,sorting:Humany.KnowledgeArticleSorting.popularity,expandCategories:!0},n)},n=function(b,j){h(document).trigger("documentsearch.faq");var e={query:b,page:j};pa.search(b,j,q.pageSize,function(b){b.SearchResults||(b.SearchResults=[]);h.each(b.SearchResults,function(){this.LinkURL=this.LinkURL.replace(/\?_escaped_fragment_=/g,"#!")});e.items=b.SearchResults;e.totalCount=b.TotalNoOfItems;h(document).trigger("documentsearchcomplete.faq",
e)})},j=function(){return w.value()?Humany.NotifyOrigin.search:Humany.NotifyOrigin.browse},F=function(){w.value(q.query);C={query:q.query,options:w.options()};q.article?(D.article.get(q.article,function(b){k(b)}),q.query&&b(q.query,u.all)):p(q.query,1,u.all)};h("html").addClass(q.cssNamespace);D=ea(q.host,q.customerName,q.knowledgeBase);(new ba).change(function(b,j){T(null,da(j.hash.substr(j.hash.indexOf("?")),"&"));F()});q.documentSearch||h(".faq-search-options").hide();var r=new E.ArticleView("#faq-article",
q.templates.article),w=new E.SearchBoxView(q.searchInput,q.searchButton,q.searchOptions,!0),u=new E.CategoryTreeView(q.categories,q.templates.categories),G=new E.SearchResultView("#faq-article-result",q.templates.articles),s=new E.SearchResultView("#faq-document-result",q.templates.documents),x=new E.SearchResultView("#faq-toplist",q.templates.toplist),A=new E.SearchResultView("#faq-related",q.templates.articles),z=new E.BreadcrumbsView("ul.#BreadCrumbs"),B=h("#faq-navigation");u.render(null,{header:q.texts.CommonQuestions,
items:[]});h(document).bind("articlecommand.faq",function(b,j){k(j.article)});h(w.input).bind("typedcharacter.faq",function(b,j){H(function(){C=j;y=null;j.options.searchArticles?p(j.query,1,u.all):G.hide();j.options.searchDocuments?n(j.query,1):s.hide()},q.searchDelay,"faq")});h(w.input).bind("clearedsearchbox.faq",function(b,j){G.hide();s.hide();H(function(){C=j;y=null;j.options.searchArticles&&p(j.query,1,u.all);j.query||s.hide()},0,"faq")});h(document).bind("searchcommand.faq",function(b,j){G.hide();
s.hide();w.value(j.query);H(function(){C=j;y=null;j.options.searchArticles&&p(j.query,1,u.all);j.options.searchDocuments&&n(j.query,1);j.query||s.hide()},0,"faq")});h(document).bind("categorycommand.faq",function(){h(q.categories).addClass("faq-loading");y=null;p(w.value(),1,u.category())});h(document).bind("pagingcommand.faq",function(b,j){H(function(){y=j;V(j.list.el);j.list.category?p(j.list.query,j.page,j.list.category):n(j.list.query,j.page)},0)});h(document).bind("indexcommand.faq",function(){G.hide();
s.hide();r.hide();z.set();w.value("");H(function(){p("",1,u.all)},0)});h("a",B).click(function(b){b.preventDefault();y?(V(y.list.el),y.list.category?p(y.list.query,y.page,y.list.category):n(y.list.query,y.page)):C?(C.options.searchArticles&&p(C.query,1,u.all),C.options.searchDocuments&&n(C.query,1)):p("",1,u.category())});h(document).bind("optionchange.faq",function(b,j){!1==h(b.target).is(":checked")?(j.options.searchArticles||G.hide(),j.options.searchDocuments||s.hide()):H(function(){j.options.searchArticles&&
p(j.query,1,u.category());j.query?j.options.searchDocuments&&n(j.query,1):s.hide()},0)});h(document).bind("showcommand.faq",function(n,p){var F=ca(p.article,"DirectLink");F?document.location.href=F:(k(p.article),w.value(p.query),D.knowledgeBase.notifyView(parseInt(p.article.Id),j(),null,void 0),h(n.target).is(w.input)||b(p.query,u.all),(t=0==t.length?null:t[0].Value)?document.location.href=t:(g(n.article),m.value(n.query),v.knowledgeBase.notifyView(parseInt(n.article.Id),d(),null,void 0),c(f.target).is(m.input)||
a(n.query,l.all)))});h(document).bind("dislikefeedback.faq",function(b,e){D.knowledgeBase.notifyDislike(parseInt(e.article.Id),j(),null)});h(document).bind("likefeedback.faq",function(b,e){D.knowledgeBase.notifyLike(parseInt(e.article.Id),j(),null)});h(document).bind("articlesearch.faq",function(){I("articleSearch");h("#faq-article-result,#faq-toplist").addClass("faq-loading")});h(document).bind("articlesearchcomplete.faq",function(j,n){r.hide();G.hide();x.hide();A.hide();z.set();B.hide();if(n.query)G.render({header:q.texts.ResultsFor.replace(/{query}/g,
n.query).replace(/{category}/g,n.category.Name),paging:U(n.totalCount,n.page,q.pageSize),items:n.items,query:n.query,page:n.page,category:n.category});else{var p=q.pageSize*(n.page-1)+1,k=void 0,k=k||"number";h.each(n.items,function(b){this[k]=b+p});x.render({header:q.texts.CommonQuestionsInCategory.replace(/{query}/g,n.query).replace(/{category}/g,n.category.Name),paging:U(n.totalCount,n.page,q.pageSize),items:n.items,query:n.query,page:n.page,category:n.category})}b(n.query,n.category);I("articleSearch",
!0);h("#faq-article-result,#faq-toplist").removeClass("faq-loading");h(q.categories).removeClass("faq-loading")});h(document).bind("documentsearch.faq",function(){I("documentSearch");h("#faq-document-result").addClass("faq-loading")});h(document).bind("documentsearchcomplete.faq",function(b,j){r.hide();x.hide();A.hide();B.hide();z.set();s.render({header:q.texts.ResultsFor.replace(/{query}/g,j.query).replace(/{category}/g,q.texts.DocumentsAndFiles),paging:U(j.totalCount,j.page,q.pageSize),items:j.items,
query:j.query,page:j.page});!j.items.length&&!j.query&&s.hide();I("documentSearch",!0);h("#faq-document-result").removeClass("faq-loading")});F();w.focus()})}function qa(){h(document).unbind(".faq");I();ba.dispose()}function ra(){h("html").removeClass(q.cssNamespace)}function sa(){h("html").addClass(q.cssNamespace)}function ta(b){T(b)}function fa(b,e){var k=setInterval(function(){h(b).length&&(clearInterval(k),e())},100)}if(!window.faq){var q={version:"v1.1.1",searchInput:"#faq-search-input",searchButton:"#faq-search-button",
element:"#faq-input",quickSearch:{input:"#QuickSearchInput",button:"#QuickSearchButton",target:"#SiteHeader",container:"#faq-quick-search",pageSize:5,searchTreshold:1},searchOptions:".faq-search-options input",categories:"#LeftContentAddOn",host:window.location.protocol+"//vasttrafik.anzery.net",knowledgeBase:"Vanliga fr\u00e5gor",customerName:"V\u00e4sttrafik",cssNamespace:"faq",searchDelay:400,searchPage:"/#!/startsideinformation/global-meny/vanliga-fragor/",query:"",article:null,debug:!1,documentSearch:!0,
pageSize:10,relatedSize:3,epSearch:{url:"/CustomerServices/EPiServerWs/Service.svc/Search",rdcLanguage:"sv-SE",languageBranch:"sv",webAssistant:!1,searchFiles:!0,wholeWordsOnly:!1},texts:{AllCategories:"Alla kategorier",ResultsFor:'S\u00f6kresultat f\u00f6r "{query}" i {category}',DocumentsAndFiles:"Dokument och filer",CommonQuestionsInCategory:"V\u00e5ra vanligaste fr\u00e5gor i {category}",RelatedQuestions:"Relaterade fr\u00e5gor",CommonQuestions:"Vanliga fr\u00e5gor",Search:"S\u00f6k",Clear:"Rensa",
NoHits:"Din s\u00f6kning resulterade inte i n\u00e5gra tr\u00e4ffar",QuickSearchWatermark:"S\u00f6k p\u00e5 vasttrafik.se"},templates:{article:'<h2 class="marginBottom">{{title}}</h2>{{{body}}}<div class="faq-response paddingTop paddingBottom"><h5>Blev du hj\u00e4lpt av den h\u00e4r informationen?</h5><a class="faq-like faq-sprite" href="#" title="Ja"><span>Ja</span></a><a class="faq-dislike faq-sprite" href="#" title="Nej"><span>Nej</span></a></div><h5 class="faq-response-like paddingTop paddingBottom">Tack f\u00f6r din feedback!</h5><h5 class="faq-response-dislike paddingTop paddingBottom">Tack f\u00f6r din feedback!</h5>',
categories:'<div class="panelHeader panelHeaderStyle">{{header}}</div><div><ul><li class="faq-root"><a href="#category-0" id="category-0" data-id="0" class="faq-selected">{{root.Name}} {{#showNumbers}}<span class="faq-numbers">({{root.ArticleCount}})</span>{{/showNumbers}}</a></li>{{#items}}<li class="{{#Children.length}}faq-children {{/Children.length}}{{^Id}}faq-root {{/Id}}{{#Id}}faq-item-count-{{ArticleCount}}{{/Id}}"><a href="#category-{{Id}}" id="category-{{Id}}" data-id="{{Id}}">{{Name}} {{#showNumbers}}<span class="faq-numbers">({{ArticleCount}})</span>{{/showNumbers}}<span class="faq-arrow faq-sprite"></span></a>{{#Children.length}}<ul>{{#Children}}<li class="faq-item-count-{{ArticleCount}}"><a href="#category-{{Id}}" id="category-{{Id}}" data-id="{{Id}}">{{Name}} {{#showNumbers}}<span class="faq-numbers">({{ArticleCount}})</span>{{/showNumbers}}</a></li>{{/Children}}</ul>{{/Children.length}}</li>{{/items}}</ul></div>',
articles:'<h2 class="marginBottom">{{header}}</h2><ul class="paddingBottom">{{^items}}<li>{{noHits}}</li>{{/items}}{{#items}}<li><a href="#article-{{Id}}" data-id="{{Id}}" data-action="article" class="faq-action">{{Title}}</a></li>{{/items}}</ul>{{{pager}}}',documents:'<h2 class="marginBottom">{{header}}</h2><ul class="paddingBottom">{{^items}}<li>{{noHits}}</li>{{/items}}{{#items}}<li><a href="{{LinkURL}}">{{Name}}</a><p>{{Description}}</p></li>{{/items}}</ul>{{{pager}}}',toplist:'<h2 class="marginBottom">{{header}}</h2><ul class="paddingBottom">{{#items}}<li><span>{{number}}.</span><a href="#article-{{Id}}" data-id="{{Id}}" data-action="article" class="faq-action">{{Title}}</a></li>{{/items}}</ul>{{{pager}}}',
quickSearch:'<div class="cornersHolder clearfix"><div class="topLeftWhiteCorner"></div><div class="topRightWhiteCorner"></div><div class="whiteMiddle"></div></div><div class="whiteBackground specialPadding clearfix panel"><div class="faq-content">{{#loading}}S\u00f6ker bland vanliga fr\u00e5gor{{/loading}}{{^loading}}<div class="panelHeader panelHeaderStyle">{{header}}{{#items.length}}<span class="faq-count">(Visar 1-{{pageSize}} av {{totalCount}})</span>{{/items.length}}</div><ul class="paddingBottom">{{^items}}<li>{{noHits}}</li>{{/items}}{{#items}}<li><a href="#article-{{Id}}" data-id="{{Id}}" data-action="article" class="faq-action">{{Title}}</a></li>{{/items}}</ul>{{#items.length}}<div class="faq-more-hits"><a href="#" class="faq-action" data-action="search">Visa alla tr\u00e4ffar p\u00e5 en egen sida \u00bb</a></div>{{/items.length}}{{/loading}}</div></div><div class="cornersHolder clearfix"><div class="bottomLeftWhiteCorner"></div><div class="bottomRightWhiteCorner"></div><div class="whiteMiddle"></div></div><div class="shadows"><div class="tre"></div><div class="tl"></div><div class="tr"></div><div class="lre"></div><div class="rre"></div><div class="bre"></div><div class="bl"></div><div class="br"></div></div>',
paging:'{{#show}}<div class="faq-paging paddingBottom">{{#first.show}}<a href="#" class="first" data-action="first">F\u00f6rsta</a>{{/first.show}}{{^first.show}}<span class="first">F\u00f6rsta</span>{{/first.show}}{{#prev.show}}<a href="#" class="prev" data-action="prev">F\u00f6reg.</a>{{/prev.show}}{{^prev.show}}<span class="prev">F\u00f6reg.</span>{{/prev.show}}{{#pages}}{{#active}}<span class="page active">{{number}}</span>{{/active}}{{^active}}<a href="#" class="page" data-action="page" data-page="{{number}}">{{number}}</a>{{/active}}{{/pages}}{{#next.show}}<a href="#" class="next" data-action="next">N\u00e4sta</a>{{/next.show}}{{^next.show}}<span class="next">N\u00e4sta</span>{{/next.show}}{{#last.show}}<a href="#" class="last" data-action="last">Sista</a>{{/last.show}}{{^last.show}}<span class="last">Sista</span>{{/last.show}}</div>{{/show}}'}},
K=window,Q=function(b,e,k){this.baseAddress=b;this.applicationName=decodeURIComponent(e);this.knowledgeBaseName=decodeURIComponent(k);this.serviceEndpointName=null;this.callService=function(b,n,j){x.ensureExist(ga.contextFunc(this,function(){jQuery.ajax({url:this.baseAddress+"/"+this.serviceEndpointName+"/"+b,data:n,success:"function"===typeof j?j:null,scriptCharset:"utf-8",type:"GET",dataType:"jsonp"})}))}},ua=function(b,e,k){var p=new Q(b,e,k);p.serviceEndpointName="KnowledgeBaseRest.svc";p.notifyView=
p.notifyLike=p.notifyDislike=function(b,j,e){e&&e()};p.notifyResolveSuccess=p.notifyResolveFailure=function(b){b&&b()};p.knowledgeArticleMatch=function(b,j,e,k){p.callService("KnowledgeArticleMatch",{question:b,applicationName:p.applicationName,knowledgeBaseName:p.knowledgeBaseName,topCount:j,categoryId:k},e)};p.knowledgeArticleSearch=function(b,j,e,k,h){p.callService("KnowledgeArticleSearch",{question:b,applicationName:p.applicationName,knowledgeBaseName:p.knowledgeBaseName,categoryId:j,page:e,pageSize:k},
h)};p.knowledgeArticleSearchCategoryDistribution=function(b,j){p.callService("KnowledgeArticleSearchCategoryDistribution",{question:b,applicationName:p.applicationName,knowledgeBaseName:p.knowledgeBaseName},j)};return p},va=function(b,e,k){var p=new Q(b,e,k),n=ga.contextFunc(p,p.callService);p.serviceEndpointName="KnowledgeBaseRest.svc";p.callService=function(b,e,k){function h(q){q&&"InvalidSession"==q.ErrorName?L.renew(p.baseAddress+"/"+p.serviceEndpointName,p.applicationName,p.knowledgeBaseName,
function(p){n(b,jQuery.extend(e,{sessionId:p}),k)}):"function"===typeof k&&k(q)}x.ensureExist(function(){L.ensureExist(p.baseAddress+"/"+p.serviceEndpointName,p.applicationName,p.knowledgeBaseName,function(k){n(b,jQuery.extend(e,{sessionId:k}),h)})})};p.notifyView=function(b,e,n,k){p.callService("NotifyView",{knowledgeArticleId:b,notifyOrigin:e,uri:k},n)};p.notifyLike=function(b,e,n){p.callService("NotifyLike",{knowledgeArticleId:b,notifyOrigin:e},n)};p.notifyDislike=function(b,e,n){p.callService("NotifyDislike",
{knowledgeArticleId:b,notifyOrigin:e},n)};p.notifyResolveSuccess=function(b){p.callService("NotifyResolveSuccess",null,b)};p.notifyResolveFailure=function(b){p.callService("NotifyResolveFailure",null,b)};p.knowledgeArticleMatch=function(b,e,n,k){p.callService("KnowledgeArticleMatchWithSession",{question:b,topCount:e,categoryId:k},n)};p.knowledgeArticleSearch=function(b,e,n,k,h){p.callService("KnowledgeArticleSearchWithSession",{question:b,categoryId:e,page:n,pageSize:k},h)};p.knowledgeArticleSearchCategoryDistribution=
function(b,e){n("KnowledgeArticleSearchCategoryDistribution",{question:b,applicationName:p.applicationName,knowledgeBaseName:p.knowledgeBaseName},e)};return p},ha=function(b){"//"==b.substr(0,2)&&(b="https:"+b);b=b.match(/\b(https?:\/\/[\-A-Z0-9.]+(?::\d+)?)\/JsonMatchService\.svc\/([^\/]*)\/([^\/]*)/i);var e=new M.KnowledgeBaseServiceProxy(b[1],decodeURIComponent(b[2]),decodeURIComponent(b[3])),k=e.notifyView;e.getMostPopularArticles=function(b,n,j,k){x.ensureExist(function(){jQuery.ajax({url:e.baseAddress+
"/KnowledgeArticleRest.svc/GetAll",data:{applicationName:e.applicationName,knowledgeBaseName:e.knowledgeBaseName,categoryName:b,page:1,pageSize:n,sorting:M.KnowledgeArticleSorting.popularity},success:function(b){k(b.Items)},scriptCharset:"utf-8",type:"GET",dataType:"jsonp"})})};e.findMatches=function(b,n,j){e.knowledgeArticleMatch(b,j,n)};e.notifyGoodMatch=function(b,n,j){e.notifyLike(n,M.NotifyOrigin.match,j)};e.notifyBadMatch=function(b,n,j){e.notifyDislike(n,M.NotifyOrigin.match,j)};e.notifyView=
function(b,e,j){k(e,M.NotifyOrigin.match,j)};e.notifyResolve=function(b,n){e.notifyResolveSuccess(n)};e.notifyResolveFailed=function(b,n){e.notifyResolveFailure(n)};return e},N={supported:function(){return navigator.cookieEnabled||"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test"))},set:function(b,e,k,p,n,j){var h=new Date;h.setTime(h.getTime());k&&(k*=864E5);h=new Date(h.getTime()+k);document.cookie=b+"="+escape(e)+(k?";expires="+h.toGMTString():
"")+(p?";path="+p:"")+(n?";domain="+n:"")+(j?";secure":"")},get:function(b){var e=document.cookie.split(";"),k="",p="",n="";for(i=0;i<e.length;i++)if(k=e[i].split("="),p=k[0].replace(/^\s+|\s+$/g,""),p==b)return 1<k.length&&(n=unescape(k[1].replace(/^\s+|\s+$/g,""))),n;return null},remove:function(b,e,k){N.get(b)&&(document.cookie=b+"="+(e?";path="+e:"")+(k?";domain="+k:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}},L={ensureExist:function(b,e,k,p){var n=L.getCookieName(e,k),j=N.get(n);null!=j?p(j):
jQuery.ajax({url:b+"/BeginSession",data:{applicationName:e,knowledgeBaseName:k},success:function(b){N.set(n,b,null,"/");p(b)},type:"GET",dataType:"jsonp"})},renew:function(b,e,k,p){N.remove(L.getCookieName(e,k),"/");L.ensureExist(b,e,k,p)},getCookieName:function(b,e){return"HumanyServices_"+b+"_"+e}},x={loadInitiated:!1,timeoutId:-1,subscribers:[],ensureExist:function(b){x.isLoadComplete()?b():(x.subscribers.push(b),x.initLoad())},isLoadComplete:function(){return"undefined"!==typeof jQuery},initLoad:function(){if(!x.loadInitiated){x.loadInitiated=
!0;var b=document.createElement("script"),e=document.getElementsByTagName("head")[0];b.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js");b.setAttribute("type","text/javascript");e.appendChild(b);x.timeoutId=setInterval(x.checkLoadComplete,50)}},checkLoadComplete:function(){if(x.isLoadComplete()){clearInterval(x.timeoutId);for(var b=0;b<x.subscribers.length;b++)x.subscribers[b].call()}}},ga={contextFunc:function(b,e){return function(){return e.apply(b,arguments)}},
assertIsNonEmptyString:function(b,e){if("string"!==typeof b||""==b){var k=Error();k.name="ArgumentNullException";k.description=k.message="Parameter '"+e+"' must be a non-empty string.";throw k;}},assertIsIdNumber:function(b,e){if("number"!==typeof b||0>=b){var k=Error();k.name="ArgumentOutOfRangeException";k.description=k.message="Parameter '"+e+"' must be a positive integer.";throw k;}}},M={KnowledgeBaseServiceProxy:N.supported()?va:ua,KnowledgeArticleServiceProxy:function(b,e,k){b=new Q(b,e,k);
b.serviceEndpointName="KnowledgeArticleRest.svc";b.get=function(b,e){this.callService("Get",{applicationName:this.applicationName,knowledgeBaseName:this.knowledgeBaseName,id:b},e)};b.getAll=function(b,e){this.callService("GetAll",jQuery.extend({applicationName:this.applicationName,knowledgeBaseName:this.knowledgeBaseName},b),e)};return b},CategoryServiceProxy:function(b,e,k){b=new Q(b,e,k);b.serviceEndpointName="CategoryRest.svc";b.get=function(b,e){this.callService("Get",{applicationName:this.applicationName,
knowledgeBaseName:this.knowledgeBaseName,id:b},e)};b.getAll=function(b,e){this.callService("GetAll",jQuery.extend({applicationName:this.applicationName,knowledgeBaseName:this.knowledgeBaseName},b),e)};return b},MatchServiceProxy:ha,matchServiceProxy:ha,KnowledgeArticleSorting:{popularity:"Popularity",lastModified:"LastModified",title:"Title"},NotifyOrigin:{browse:"Browse",search:"Search",match:"Match"},_private:{ServiceProxyBase:Q,cookieHelper:N,sessionHelper:L}};K.anzery=K.Anzery=K.Humany=M;var O=
{},K="undefined"!=typeof exports?exports:O,R=function(b){return String(null===b||void 0===b?"":b)};K.Template=function(b,e,k,h){this.r=b||this.r;this.c=k;this.options=h;this.text=e||"";this.buf=""};K.Template.prototype={r:function(){return""},v:function(b){return b=R(b),wa.test(b)?b.replace(xa,"&amp;").replace(ya,"&lt;").replace(za,"&gt;").replace(Aa,"&#39;").replace(Ba,"&quot;"):b},t:R,render:function(b,e,k){return this.ri([b],e||{},k)},ri:function(b,e,k){return this.r(b,e,k)},rp:function(b,e,k,
h){return(b=k[b])?(this.c&&"string"==typeof b&&(b=this.c.compile(b,this.options)),b.ri(e,k,h)):""},rs:function(b,e,k){var h=b[b.length-1];if(X(h))for(var n=0;n<h.length;n++)b.push(h[n]),k(b,e,this),b.pop();else k(b,e,this)},s:function(b,e,k,h,n,j,q){var r;return X(b)&&0===b.length?!1:("function"==typeof b&&(b=this.ls(b,e,k,h,n,j,q)),r=""===b||!!b,!h&&r&&e&&e.push("object"==typeof b?b:e[e.length-1]),r)},d:function(b,e,k,h){var n=b.split("."),j=this.f(n[0],e,k,h),q=null;if("."===b&&X(e[e.length-2]))return e[e.length-
1];for(b=1;b<n.length;b++)j&&"object"==typeof j&&n[b]in j?(q=j,j=j[n[b]]):j="";return h&&!j?!1:(!h&&"function"==typeof j&&(e.push(q),j=this.lv(j,e,k),e.pop()),j)},f:function(b,e,k,h){for(var n=!1,j=null,q=!1,r=e.length-1;0<=r;r--)if((j=e[r])&&"object"==typeof j&&b in j){n=j[b];q=!0;break}return q?(!h&&"function"==typeof n&&(n=this.lv(n,e,k)),n):h?!1:""},ho:function(b,e,k,h,n){var j=this.c,q=this.options;q.delimiters=n;h=b.call(e,h);return h=null==h?String(h):h.toString(),this.b(j.compile(h,q).render(e,
k)),!1},b:function(b){this.buf+=b},fl:function(){var b=this.buf;return this.buf="",b},ls:function(b,e,k,h,n,j,q){e=e[e.length-1];var r=null;if(!h&&this.c&&0<b.length)return this.ho(b,e,k,this.text.substring(n,j),q);r=b.call(e);if("function"==typeof r){if(h)return!0;if(this.c)return this.ho(r,e,k,this.text.substring(n,j),q)}return r},lv:function(b,e,k){e=e[e.length-1];b=b.call(e);return"function"==typeof b&&(b=R(b.call(e)),this.c&&~b.indexOf("{{"))?this.c.compile(b,this.options).render(e,k):R(b)}};
var xa=/&/g,ya=/</g,za=/>/g,Aa=/'/g,Ba=/\"/g,wa=/[&<>\"']/,X=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},J="undefined"!=typeof exports?exports:O,ia=function(b){return b.trim?b.trim():b.replace(/^\s*|\s*$/g,"")},ja=function(b,e,k){if(e.charAt(k)!=b.charAt(0))return!1;for(var h=1,n=b.length;h<n;h++)if(e.charAt(k+h)!=b.charAt(h))return!1;return!0},ka=function(b,e,h,p){e=[];for(var n=null,j=null;0<b.length;){j=b.shift();if(!(n="#"==j.tag))if(!(n="^"==j.tag))a:{for(var n=
j,q=p,r=0,w=q.length;r<w;r++)if(q[r].o==n.n){n=(n.tag="#",!0);break a}n=void 0}if(n)h.push(j),j.nodes=ka(b,j.tag,h,p);else if("/"==j.tag){if(0===h.length)throw Error("Closing tag without opener: /"+j.n);n=h.pop();if(b=j.n!=n.n){a:{b=0;for(h=p.length;b<h;b++)if(p[b].c==j.n&&p[b].o==n.n){p=!0;break a}p=void 0}b=!p}if(b)throw Error("Nesting error: "+n.n+" vs. "+j.n);return n.end=j.i,e}e.push(j)}if(0<h.length)throw Error("missing closing tag: "+h.pop().n);return e},P=function(b){return b.replace(Ca,"\\\\").replace(Da,
'\\"').replace(Ea,"\\n").replace(Fa,"\\r")},S=function(b){return~b.indexOf(".")?"d":"f"},Y=function(b){for(var e="",h=0,p=b.length;h<p;h++){var n=b[h].tag;if("#"==n)var n=b[h].nodes,j=S(b[h].n),q=b[h].i,r=b[h].end,w=b[h].otag+" "+b[h].ctag,n="if(_.s(_."+j+'("'+P(b[h].n)+'",c,p,1),c,p,0,'+q+","+r+',"'+w+'")){_.rs(c,p,function(c,p,_){'+Y(n)+"});c.pop();}",e=e+n;else"^"==n?(n=b[h].nodes,n="if(!_.s(_."+S(b[h].n)+'("'+P(b[h].n)+'",c,p,1),c,p,1,0,0,"")){'+Y(n)+"};",e+=n):"<"==n||">"==n?e+='_.b(_.rp("'+
P(b[h].n)+'",c,p,"'+(b[h].indent||"")+'"));':"{"==n||"&"==n?(n="_.b(_.t(_."+S(b[h].n)+'("'+P(b[h].n)+'",c,p,0)));',e+=n):"\n"==n?e+='_.b("\\n"'+(b.length-1==h?"":" + i")+");":"_v"==n?(n="_.b(_.v(_."+S(b[h].n)+'("'+P(b[h].n)+'",c,p,0)));',e+=n):void 0===n&&(n='"'+P(b[h])+'"',e+="_.b("+n+");")}return e},Ga=/\S/,Da=/\"/g,Ea=/\n/g,Fa=/\r/g,Ca=/\\/g,Z={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};J.scan=function(b,e){function h(){0<w.length&&(u.push(new String(w)),w="")}function p(b,j){h();
var e;if(e=b)a:{e=!0;for(var n=y;n<u.length;n++)if(e=u[n].tag&&Z[u[n].tag]<Z._v||!u[n].tag&&null===u[n].match(Ga),!e){e=!1;break a}}if(e){e=y;for(var p;e<u.length;e++)u[e].tag||((p=u[e+1])&&">"==p.tag&&(p.indent=u[e].toString()),u.splice(e,1))}else j||u.push({tag:"\n"});x=!1;y=u.length}var n=b.length,j=0,q=null,r=null,w="",u=[],x=!1,s=0,y=0,A="{{",z="}}";e&&(e=e.split(" "),A=e[0],z=e[1]);for(s=0;s<n;s++)0==j?ja(A,b,s)?(--s,h(),j=1):"\n"==b.charAt(s)?p(x):w+=b.charAt(s):1==j?(s+=A.length-1,q=(r=Z[b.charAt(s+
1)])?b.charAt(s+1):"_v","="==q?(A=b,r=s,s="="+z,j=A.indexOf(s,r),z=ia(A.substring(A.indexOf("=",r)+1,j)).split(" "),s=(A=z[0],z=z[1],j+s.length-1),j=0):(r&&s++,j=2),x=s):ja(z,b,s)?(u.push({tag:q,n:ia(w),otag:A,ctag:z,i:"/"==q?x-z.length:s+A.length}),w="",s+=z.length-1,j=0,"{"==q&&("}}"==z?s++:(r=u[u.length-1],"}"===r.n.substr(r.n.length-1)&&(r.n=r.n.substring(0,r.n.length-1))))):w+=b.charAt(s);return p(x,!0),u};J.generate=function(b,e,h){b='var _=this;_.b(i=i||"");'+Y(b)+"return _.fl();";return h.asString?
"function(c,p,i){"+b+";}":new J.Template(new Function("c","p","i",b),e,J,h)};J.parse=function(b,e,h){return h=h||{},ka(b,"",[],h.sectionTags||[])};J.cache={};J.compile=function(b,e){e=e||{};var h=b+"||"+!!e.asString,p=this.cache[h];return p?p:(p=this.generate(this.parse(this.scan(b,e.delimiters),b,e),b,e),this.cache[h]=p)};"undefined"===typeof console&&(console={log:function(){}});var D={knowledgeBase:null,article:null,category:null},pa={search:function(b,e,k,p){h.ajax({type:"POST",contentType:"application/json; charset=utf-8",
url:q.epSearch.url,data:JSON.stringify({request:{RDC_Language:q.epSearch.rdcLanguage,LanguageBranch:q.epSearch.languageBranch,SearchQuery:b,PageSize:k,SkipCount:(e-1)*k,SearchInWebAssistant:q.epSearch.webAssistant,SearchInFiles:q.epSearch.searchFiles,SearchWholeWordsOnly:q.epSearch.wholeWordsOnly}}),dataType:"json",success:function(b){p(b?b.d:null)}})}},I,B={};I=function(b,e){if(0===arguments.length)for(var k in B)k.reject();else window.indicateLoad&&h.isFunction(h.Deferred)&&("undefined"===typeof e?
(B[b]&&B[b].reject(),k=h.Deferred(),B[b]=k,window.indicateLoad(k)):B[b]&&(!0===e?B[b].resolve():!1===e&&B[b].reject(),delete B[b]))};var H,la=0,$={};H=function(b,e,h){h?($[h]&&clearTimeout($[h]),$[h]=setTimeout(b,e)):(clearTimeout(la),la=setTimeout(b,e))};var aa,ma={};aa=function(b){"undefined"==typeof ma[b]&&(ma[b]=!0,b())};h.fn.subbind=function(b,e,k){this.bind(b,function(b,n){for(var j in e)h(b.target).closest(j).each(function(){k&&(k.prevent&&b.preventDefault(),k.stop&&b.stopPropagation());e[j].call(this,
b,n)})});return this};var E={ArticleView:function(b,e){var k=O.compile(e),p=null;this.el=h(b);this.render=function(e){var j=k.render(e);p=e.article;h(b).html(j).show()};this.hide=function(){h(b).hide()};h(b).subbind("click",{"a.faq-like":function(e){e.preventDefault();h(b).trigger("likefeedback.faq",{article:p});h(".faq-response").hide();h(".faq-response-like").show()},"a.faq-dislike":function(e){e.preventDefault();h(b).trigger("dislikefeedback.faq",{article:p});h(".faq-response").hide();h(".faq-response-dislike").show()}})},
SearchBoxView:function(b,e,k,p){function n(){p&&(h(b).val()?h(e).addClass("faq-clear").attr("title",q.texts.Clear):h(e).removeClass("faq-clear").attr("title",q.texts.Search))}var j=this;this.input=b;this.button=e;var F=void 0,r="";this.value=function(b){if("undefined"!==typeof b)return h(j.input).val(b).siblings(".faq-placeholder").html(b?"":r),n(),b;b=h(j.input).val();return b===r?"":b};this.options=function(){return{searchArticles:h("#faq-search-option-articles").is(":checked"),searchDocuments:h("#faq-search-option-documents").is(":checked")}};
this.focus=function(){h(j.input).focus().select()};this.clear=function(e){p&&j.value()&&(!0===e&&j.focus(),setTimeout(function(){j.value("");h(b).trigger("clearedsearchbox.faq",{query:j.value(),options:j.options()})},1))};this.placeholder=function(b){if("undefined"==typeof b)return h(j.input).attr("placeholder")||r;r=b;h(j.input).attr("placeholder",b);if(!("placeholder"in document.createElement("input"))||h.browser.safari&&!/chrome/.test(navigator.userAgent.toLowerCase())||h.browser.msie)h(j.input).attr("placeholder",
""),h(j.input).before("<span class='faq-placeholder'/>"),h(j.input).each(function(){h(this).siblings(".faq-placeholder").html(this.value?"":b).click(function(){h(j.input).focus()})}).keyup(function(){this.value?h(this).siblings(".faq-placeholder").html(""):h(this).siblings(".faq-placeholder").html(b)})};h(b).addClass("faq-firstinit");h(b).focus(function(){h(this).addClass("faq-focus").select()}).blur(function(){h(this).removeClass("faq-focus");h(this).removeClass("faq-firstinit")}).keypress(function(){h(this).removeClass("faq-firstinit")});
h(k).change(function(){h(this).trigger("optionchange.faq",{query:j.value(),options:j.options()})});h(j.input).click(function(b){b.stopPropagation()}).keypress(function(b){13==b.which&&h(b.target).is(j.input)&&(b.preventDefault(),h(j.input).trigger("searchcommand.faq",{query:j.value(),options:j.options()}))}).keyup(function(){F!==this.value&&(void 0!=F&&h(j.input).trigger("typedcharacter.faq",{query:j.value(),options:j.options()}),F=this.value);n()}).focus(function(){this.value&&h(j.input).trigger("focusedsearchbox.faq",
{query:j.value(),options:j.options()})}).keydown(function(b){27==b.which?j.clear(!0):13==b.which&&(b.preventDefault(),b.stopPropagation(),h(j.input).trigger("searchcommand.faq",{query:j.value(),options:j.options()}))});h(e).click(function(b){b.preventDefault();b.stopPropagation();j.clear(!0);h(j.input).trigger("searchcommand.faq",{query:j.value(),options:j.options()})})},CategoryTreeView:function(b,e){var k=this,p=O.compile(e);this.question=void 0;this.all={Id:"",Name:q.texts.AllCategories,ArticleCount:0};
h(b).addClass("faq-category-tree");this.render=function(e,j){if(e!==this.question){j.items&&(this.all.ArticleCount=0,h.each(j.items,function(){k.all.ArticleCount+=this.ArticleCount}));j.root=this.all;this.question=e;var q=this.category(),r=p.render(j);h(b).html(r);this.category(q.Id,!0);h(b).trigger("resizedui.faq")}};this.category=function(e,j){if("undefined"!==typeof e){var k=h(b).find(".faq-selected").removeClass("faq-selected"),p=h(b).find("#category-"+(e||"0")).addClass("faq-selected"),k=k.parents("li").not(p.parents("li")).removeClass("faq-expanded").children("ul"),
q=p.siblings("ul:not(.faq-item-count-0)"),p=p.closest("li").addClass("faq-expanded").parents("li").addClass("faq-expanded").children("ul:not(.faq-item-count-0)");h(".faq-expanded-parent").removeClass("faq-expanded-parent");h(".faq-expanded li:not(.faq-item-count-0)").parents("li.faq-expanded").children("a").addClass("faq-expanded-parent");j?(k.hide(),q.show(),p.show(),h(b).trigger("resizedui.faq")):(k.slideUp("fast",function(){h(b).trigger("resizedui.faq")}),q.slideDown("fast",function(){h(b).trigger("resizedui.faq")}),
p.not(":visible").slideDown("fast",function(){h(b).trigger("resizedui.faq")}))}return this._getCategory()};this._getCategory=function(){var e=h(b).find(".faq-selected"),j=e.attr("data-id");return!j||"0"===j?k.all:{Id:j,Name:e.text().replace(/\s*[(]\d*[)]/g,"").trim()}};h(b).subbind("click",{a:function(e){e.preventDefault();e.stopPropagation();e=k.category(h(this).attr("data-id"),!1);h(b).trigger("categorycommand.faq",{categoryId:e.id,category:e})}})},SearchResultView:function(b,e){var k=O.compile(e),
p=O.compile(q.templates.paging),n=this;this.el=h(b);this.query="";this.items=[];this.page=0;this.paging=this.category=null;this.render=function(e){e.pager=p.render(e.paging);e.noHits=q.texts.NoHits;var n=k.render(e);this.query=e.query;this.items=e.items;this.page=e.page;this.category=e.category;this.paging=e.paging;h(b).html(n).show()};h(b).subbind("click.results.faq",{".faq-action":function(e){e.preventDefault();var k=h(this).attr("data-id");e=h(this).attr("data-action");"article"==e?k&&h(b).trigger("showcommand.faq",
{query:n.query,articleId:k,article:jQuery.grep(n.items,function(b){return b.Id==k})[0]||{}}):(e="search")&&h(b).trigger("searchcommand.faq",{query:n.query,options:{searchArticles:!0}})}});h(b).subbind("click",{".faq-paging a":function(e){e.preventDefault();e.stopPropagation();e=h(this).attr("data-action");var k=h(this).attr("data-page");switch(e){case "first":k=1;break;case "prev":k=parseInt(n.page)-1;break;case "next":k=parseInt(n.page)+1;break;case "last":k=n.paging.last.number}h(b).trigger("pagingcommand.faq",
{page:k,list:n})}});this.hide=function(){h(b).hide()};h(b).bind("click.results.faq",function(b){b.stopPropagation()})},BreadcrumbsView:function(b){this.set=function(b){var k=h("ul.#BreadCrumbs"),p=h("li.custom",k);b?(p.length||(p=h("<li/>").addClass("custom").appendTo(k)),h("a",k).removeClass("current"),p.html(b)):(p.remove(),h("a",k).addClass("current"))};h("a",b).click(function(e){e.preventDefault();h(b).trigger("indexcommand.faq")})}},C=null,y=null;h(function(){fa(q.quickSearch.input,function(){var b=
function(b){document.location.href=q.searchPage+'?faq={"query":"'+b+'"}'};aa(function(){h(q.quickSearch.container).length||(q.quickSearch.container=h('<div id="faq-quick-search" class="relativePositioning marginBottom" style="display:none;"/>').appendTo("body"));h.watermark&&h(q.quickSearch.input).watermark(q.texts.QuickSearchWatermark).blur(function(){setTimeout(function(){h(q.quickSearch.input).val()||h(q.quickSearch.input).watermark(q.texts.QuickSearchWatermark)},100)})});var e=ea(q.host,q.customerName,
q.knowledgeBase),k=new E.SearchBoxView(q.quickSearch.input,q.quickSearch.button,null,!0),p=new E.SearchResultView(q.quickSearch.container,q.templates.quickSearch);h(k.input).bind("typedcharacter.faq",function(b,j){H(function(){var b=j.query,n=h(q.quickSearch.container);aa(function(){var b=h(q.quickSearch.target),e=b.offset(),j=b.outerWidth(),b=b.outerHeight(),k=h(document).width();h(n).css({position:"absolute",top:e.top+b+"px",right:k-(e.left+j)+"px"})});n.is(":visible")||(n.addClass("faq-loading"),
p.render({loading:!0}),n.trigger("showdropdown.faq"));if(!b||b.length<q.quickSearch.searchTreshold)n.fadeOut("fast");else{var k=h(q.quickSearch.container);I("quickSearch");e.knowledgeBase.knowledgeArticleSearch(b,"",1,q.quickSearch.pageSize,function(e){I("quickSearch",!0);k.removeClass("faq-loading");p.render({items:e.Items,totalCount:e.TotalItems,header:q.texts.CommonQuestions,query:b,pageSize:e.TotalItems>q.quickSearch.pageSize?q.quickSearch.pageSize:e.TotalItems})})}},q.searchDelay,"quickSearch")});
h(k.input).bind("searchcommand.faq",function(e,h){p.hide();k.clear(!1);C=h;W()||b(h.query)});h(p.el).bind("searchcommand.faq",function(e,h){p.hide();k.clear(!1);C=h;W()||b(h.query)});h(p.el).bind("showcommand.faq",function(b,e){var h=ca(e.article,"DirectLink");h?document.location.href=h:(p.hide(),k.clear(!1),C={query:e.query,options:k.options()},W()||(h=k.value(),document.location.href=q.searchPage+'?faq={"article":'+e.article.Id+',"query":'+(h?'"'+h+'"':"null")+"}"))});h(document).bind("showdropdown.faq",
function(){h(document).subbind("keydown.faq",{"*":function(b){27==b.keyCode&&(dropdown.hide(),box.value(""),box.focus())},"#QuickSearchInput":function(b){40==b.keyCode&&(h("#faq-quick-search").find("a").slice(0,1).focus(),b.preventDefault(),b.stopPropagation())},"#faq-quick-search":function(b){var e=0;switch(b.keyCode){case 38:e=-1;break;case 40:e=1;break;default:return}b.preventDefault();b.stopPropagation();var k=h("a","#faq-quick-search");b=h(b.target).closest("a");b.length?(b=k.index(b),0>b+e||
b+e>=k.length||k.slice(b+e,b+e+1).focus()):k.slice(0,1).focus()}})});h(document).bind("click.results.faq",function(){p&&p.hide()})})});window.faq={root:this,init:oa,update:ta,dispose:qa,leave:ra,enter:sa}}})(jQuery);