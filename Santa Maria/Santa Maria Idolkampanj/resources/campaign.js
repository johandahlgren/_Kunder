(function(a){+"use strict";var g="left",j="right",h="up",k="down",l="in",o="out",m="none",t="auto",s="swipe",u="pinch",q="click",p="horizontal",n="vertical",i="all",r="start",e="move",d="end",b="cancel",c="ontouchstart"in window,f="TouchSwipe",v={fingers:1,threshold:75,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"button, input, select, textarea, a, .noSwipe"};a.fn.swipe=function(b){var d=a(this),c=d.data(f);if(c&&typeof b==="string")if(c[b])return c[b].apply(this,Array.prototype.slice.call(arguments,1));else a.error("Method "+b+" does not exist on jQuery.swipe");else if(!c&&(typeof b==="object"||!b))return x.apply(this,arguments);return d};a.fn.swipe.defaults=v;a.fn.swipe.phases={PHASE_START:r,PHASE_MOVE:e,PHASE_END:d,PHASE_CANCEL:b};a.fn.swipe.directions={LEFT:g,RIGHT:j,UP:h,DOWN:k,IN:l,OUT:o};a.fn.swipe.pageScroll={NONE:m,HORIZONTAL:p,VERTICAL:n,AUTO:t};a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:i};function x(b){if(b&&b.allowPageScroll===undefined&&(b.swipe!==undefined||b.swipeStatus!==undefined))b.allowPageScroll=m;if(!b)b={};b=a.extend({},a.fn.swipe.defaults,b);return this.each(function(){var d=a(this),c=d.data(f);if(!c){c=new w(this,b);d.data(f,c)}})}function w(zb,v){var N=c||!v.fallbackToMouseEvents,P=N?"touchstart":"mousedown",db=N?"touchmove":"mousemove",Z=N?"touchend":"mouseup",I=N?null:"mouseleave",Q="touchcancel",B=0,D=null,A=0,E=0,G=0,F=1,H=0,w=a(zb),x="start",y=0,z=null,bb=0,R=0,M=0,V=0;try{w.bind(P,Y);w.bind(Q,J)}catch(Db){a.error("events not supported "+P+","+Q+" on jQuery.swipe")}this.enable=function(){w.bind(P,Y);w.bind(Q,J);return w};this.disable=function(){kb();return w};this.destroy=function(){kb();w.data(f,null);return w};function Y(f){if(Bb())return;if(a(f.target).closest(v.excludedElements,w).length>0)return;var d=f.originalEvent,e,g=c?d.touches[0]:d;x=r;if(c)y=d.touches.length;else f.preventDefault();B=0;D=null;H=null;A=0;E=0;G=0;F=1;pinchDistance=0;z=Ab();mb();if(!c||y===v.fingers||v.fingers===i||K()){U(0,g);bb=L();if(y==2){U(1,d.touches[1]);E=G=fb(z[0].start,z[1].start)}if(v.swipeStatus||v.pinchStatus)e=C(d,x)}else e=false;if(e===false){x=b;C(d,x);return e}else O(true)}function cb(j){var a=j.originalEvent;if(x===d||x===b||ib())return;var h,k=c?a.touches[0]:a,f=lb(k);R=L();if(c)y=a.touches.length;x=e;if(y==2){if(E==0){U(1,a.touches[1]);E=G=fb(z[0].start,z[1].start)}else{lb(a.touches[1]);G=fb(z[0].end,z[1].end);H=ob(z[0].end,z[1].end)}F=Cb(E,G);pinchDistance=Math.abs(E-G)}if(y===v.fingers||v.fingers===i||!c||K()){D=pb(f.start,f.end);tb(j,D);B=vb(f.start,f.end);A=yb();if(v.swipeStatus||v.pinchStatus)h=C(a,x);if(!v.triggerOnTouchEnd||v.triggerOnTouchLeave){var g=true;if(v.triggerOnTouchLeave){var l=qb(this);g=sb(f.end,l)}if(!v.triggerOnTouchEnd&&g)x=T(e);else if(v.triggerOnTouchLeave&&!g)x=T(d);(x==b||x==d)&&C(a,x)}}else{x=b;C(a,x)}if(h===false){x=b;C(a,x)}}function S(f){var a=f.originalEvent;if(c)if(a.touches.length>0){rb();return true}if(ib())y=V;f.preventDefault();R=L();if(v.triggerOnTouchEnd||v.triggerOnTouchEnd==false&&x===e){x=d;var h=y===v.fingers||v.fingers===i||!c,g=z[0].end.x!==0,j=h&&g&&(X()||ab());if(j)C(a,x);else{x=b;C(a,x)}}else if(x===e){x=b;C(a,x)}O(false)}function J(){y=0;R=0;bb=0;E=0;G=0;F=1;mb();O(false)}function eb(a){var b=a.originalEvent;if(v.triggerOnTouchLeave){x=T(d);C(b,x)}}function kb(){w.unbind(P,Y);w.unbind(Q,J);w.unbind(db,cb);w.unbind(Z,S);I&&w.unbind(I,eb);O(false)}function T(c){var a=c,g=jb(),f=hb();if(!g)a=b;else if(f&&c==e&&(!v.triggerOnTouchEnd||v.triggerOnTouchLeave))a=d;else if(!f&&c==d&&v.triggerOnTouchLeave)a=b;return a}function C(a,f){var e=undefined;if(gb())e=W(a,f,s);if(K()&&e!==false)e=W(a,f,u);if(xb()&&e!==false)e=W(a,f,q);f===b&&J(a);if(f===d)if(c)a.touches.length==0&&J(a);else J(a);return e}function W(e,f,i){var a=undefined;if(i==s){if(v.swipeStatus){a=v.swipeStatus.call(w,e,f,D||null,B||0,A||0,y);if(a===false)return false}if(f==d&&ab()){if(v.swipe){a=v.swipe.call(w,e,D,B,A,y);if(a===false)return false}switch(D){case g:if(v.swipeLeft)a=v.swipeLeft.call(w,e,D,B,A,y);break;case j:if(v.swipeRight)a=v.swipeRight.call(w,e,D,B,A,y);break;case h:if(v.swipeUp)a=v.swipeUp.call(w,e,D,B,A,y);break;case k:if(v.swipeDown)a=v.swipeDown.call(w,e,D,B,A,y)}}}if(i==u){if(v.pinchStatus){a=v.pinchStatus.call(w,e,f,H||null,pinchDistance||0,A||0,y,F);if(a===false)return false}if(f==d&&X())switch(H){case l:if(v.pinchIn)a=v.pinchIn.call(w,e,H||null,pinchDistance||0,A||0,y,F);break;case o:if(v.pinchOut)a=v.pinchOut.call(w,e,H||null,pinchDistance||0,A||0,y,F)}}if(i==q)if(f===b)if(v.click&&(y===1||!c)&&(isNaN(B)||B===0))a=v.click.call(w,e,e.target);return a}function hb(){return v.threshold!==null?B>=v.threshold:true}function nb(){return v.pinchThreshold!==null?pinchDistance>=v.pinchThreshold:true}function jb(){var a;if(v.maxTimeThreshold)if(A>=v.maxTimeThreshold)a=false;else a=true;else a=true;return a}function tb(b,c){if(v.allowPageScroll===m||K())b.preventDefault();else{var a=v.allowPageScroll===t;switch(c){case g:(v.swipeLeft&&a||!a&&v.allowPageScroll!=p)&&b.preventDefault();break;case j:(v.swipeRight&&a||!a&&v.allowPageScroll!=p)&&b.preventDefault();break;case h:(v.swipeUp&&a||!a&&v.allowPageScroll!=n)&&b.preventDefault();break;case k:(v.swipeDown&&a||!a&&v.allowPageScroll!=n)&&b.preventDefault()}}}function X(){return nb()}function K(){return!!(v.pinchStatus||v.pinchIn||v.pinchOut)}function ab(){var a=jb(),c=hb(),b=c&&a;return b}function gb(){return!!(v.swipe||v.swipeStatus||v.swipeLeft||v.swipeRight||v.swipeUp||v.swipeDown)}function xb(){return!!v.click}function rb(){M=L();V=event.touches.length+1}function mb(){M=0;V=0}function ib(){var a=false;if(M){var b=L()-M;if(b<=v.fingerReleaseThreshold)a=true}return a}function Bb(){return!!(w.data(f+"_intouch")===true)}function O(a){if(a===true){w.bind(db,cb);w.bind(Z,S);I&&w.bind(I,eb)}else{w.unbind(db,cb,false);w.unbind(Z,S,false);I&&w.unbind(I,eb,false)}w.data(f+"_intouch",a===true)}function U(a,b){var c=b.identifier!==undefined?b.identifier:0;z[a].identifier=c;z[a].start.x=z[a].end.x=b.pageX;z[a].start.y=z[a].end.y=b.pageY;return z[a]}function lb(a){var c=a.identifier!==undefined?a.identifier:0,b=wb(c);b.end.x=a.pageX;b.end.y=a.pageY;return b}function wb(b){for(var a=0;a<z.length;a++)if(z[a].identifier==b)return z[a]}function Ab(){for(var a=[],b=0;b<=5;b++)a.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return a}function yb(){return R-bb}function fb(d,c){var b=Math.abs(d.x-c.x),a=Math.abs(d.y-c.y);return Math.round(Math.sqrt(b*b+a*a))}function Cb(a,b){var c=b/a*1;return c.toFixed(2)}function ob(){return F<1?o:l}function vb(b,a){return Math.round(Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)))}function ub(c,b){var d=c.x-b.x,f=b.y-c.y,e=Math.atan2(f,d),a=Math.round(e*180/Math.PI);if(a<0)a=360-Math.abs(a);return a}function pb(c,b){var a=ub(c,b);return a<=45&&a>=0?g:a<=360&&a>=315?g:a>=135&&a<=225?j:a>45&&a<135?k:h}function L(){var a=new Date;return a.getTime()}function qb(b){b=a(b);var c=b.offset(),d={left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()};return d}function sb(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}}})(jQuery);(function(a){a.expander={version:"1.4.11",defaults:{slicePoint:100,sliceOn:null,preserveWords:true,showWordCount:false,wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:false,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:true,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}};a.fn.expander=function(b){function t(a,f){var d="span",b=a.summary,c=h.exec(b),e=c?c[2].toLowerCase():"";if(f){d="div";if(c&&e!=="a"&&!a.expandAfterSummary)b=b.replace(h,a.moreLabel+"$1");else b+=a.moreLabel;b='<div class="'+a.summaryClass+'">'+b+"</div>"}else b+=a.moreLabel;return[b," <",d+' class="'+a.detailClass+'"',">",a.details,"</"+d+">"].join("")}function q(a,c){var b='<span class="'+a.moreClass+'">'+a.expandPrefix;if(a.showWordCount)a.wordCountText=a.wordCountText.replace(/\{\{count\}\}/,c.replace(d,"").replace(/\&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length);else a.wordCountText="";b+='<a href="#" class="'+a.moreLinkClass+'">'+a.expandText+a.wordCountText+"</a></span>";return b}function i(b,c){if(b.lastIndexOf("<")>b.lastIndexOf(">"))b=b.slice(0,b.lastIndexOf("<"));if(c)b=b.replace(s,"");return a.trim(b)}function l(a,b){b.stop(true,true)[a.collapseEffect](a.collapseSpeed,function(){var c=b.prev("span."+a.moreClass).show();!c.length&&b.parent().children("div."+a.summaryClass).show().find("span."+a.moreClass).show();a.afterCollapse&&a.afterCollapse.call(b)})}function m(b,c,d){if(b.collapseTimer)j=setTimeout(function(){l(b,c);a.isFunction(b.onCollapse)&&b.onCollapse.call(d,false)},b.collapseTimer)}var c="init";if(typeof b==="string"){c=b;b={}}var e=a.extend({},a.expander.defaults,b),o=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,s=e.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,d=/<\/?(\w+)[^>]*>/g,k=/<(\w+)[^>]*>/g,f=/<\/(\w+)>/g,h=/(<\/([^>]+)>)\s*$/,p=/^(<[^>]+>)+.?/,n=/\s\s+/g,j,r=function(b){return a.trim(b||"").replace(n," ")},g={init:function(){this.each(function(){var x,M,n,C,F,A,v,B,h,J,O,L,u,H,K=[],z=[],E="",w={},y=this,g=a(this),N=a([]),b=a.extend({},e,g.data("expander")||a.meta&&g.data()||{}),P=!!g.find("."+b.detailClass).length,G=!!g.find("*").filter(function(){var b=a(this).css("display");return/^block|table|list/.test(b)}).length,Q=G?"div":"span",D=Q+"."+b.detailClass,R=b.moreClass+"",S=b.lessClass+"",T=b.expandSpeed||0,s=r(g.html()),c=s.slice(0,b.slicePoint);b.moreSelector="span."+R.split(" ").join(".");b.lessSelector="span."+S.split(" ").join(".");if(a.data(this,"expanderInit"))return;a.data(this,"expanderInit",true);a.data(this,"expander",b);a.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(d,c){w[c]=a.isFunction(b[c])});c=i(c);F=c.replace(d,"").length;while(F<b.slicePoint){C=s.charAt(c.length);if(C==="<")C=s.slice(c.length).match(p)[0];c+=C;F++}if(b.sliceOn){var I=c.indexOf(b.sliceOn);if(I!==-1&&I<b.slicePoint){b.slicePoint=I;c=s.slice(0,b.slicePoint)}}c=i(c,b.preserveWords);A=c.match(k)||[];v=c.match(f)||[];n=[];a.each(A,function(b,a){!o.test(a)&&n.push(a)});A=n;M=v.length;for(x=0;x<M;x++)v[x]=v[x].replace(f,"$1");a.each(A,function(e,c){var d=c.replace(k,"$1"),b=a.inArray(d,v);if(b===-1){K.push(c);z.push("</"+d+">")}else v.splice(b,1)});z.reverse();if(!P){h=s.slice(c.length);J=a.trim(h.replace(d,""));if(J===""||J.split(/\s+/).length<b.widow)return;B=z.pop()||"";c+=z.join("");h=K.join("")+h}else{h=g.find(D).remove().html();c=g.html();s=c+h;B=""}b.moreLabel=g.find(b.moreSelector).length?"":q(b,h);if(G)h=s;else if(c.charAt(c.length-1)==="&"){E=/^[#\w\d\\]+;/.exec(h);if(E){h=h.slice(E[0].length);c+=E[0]}}c+=B;b.summary=c;b.details=h;b.lastCloseTag=B;if(w.onSlice){n=b.onSlice.call(y,b);b=n&&n.details?n:b}O=t(b,G);g.html(O);u=g.find(D);H=g.find(b.moreSelector);if(b.collapseEffect==="slideUp"&&b.expandEffect!=="slideDown"||g.is(":hidden"))u.css({display:"none"});else u[b.collapseEffect](0);N=g.find("div."+b.summaryClass);L=function(a){a.preventDefault();H.hide();N.hide();w.beforeExpand&&b.beforeExpand.call(y);u.stop(false,true)[b.expandEffect](T,function(){u.css({zoom:""});w.afterExpand&&b.afterExpand.call(y);m(b,u,y)})};H.find("a").unbind("click.expander").bind("click.expander",L);b.userCollapse&&!g.find(b.lessSelector).length&&g.find(D).append('<span class="'+b.lessClass+'">'+b.userCollapsePrefix+'<a href="#" class="'+b.lessLinkClass+'">'+b.userCollapseText+"</a></span>");g.find(b.lessSelector+" a").unbind("click.expander").bind("click.expander",function(d){d.preventDefault();clearTimeout(j);var c=a(this).closest(D);l(b,c);w.onCollapse&&b.onCollapse.call(y,true)})})},destroy:function(){this.each(function(){var c,d,b=a(this);if(!b.data("expanderInit"))return;c=a.extend({},b.data("expander")||{},e);d=b.find("."+c.detailClass).contents();b.removeData("expanderInit");b.removeData("expander");b.find(c.moreSelector).remove();b.find("."+c.summaryClass).remove();b.find("."+c.detailClass).after(d).remove();b.find(c.lessSelector).remove()})}};g[c]&&g[c].call(this);return this};a.fn.expander.defaults=a.expander.defaults})(jQuery);function log(a,b){if(window.console&&console.log)if(arguments.length===2)console.log(a,b);else console.log(a)}var SantaMaria={},siteSettings={},$doc=$(document),$win=$(window),tabletBreakpoint=1195,mobileBreakpoint=767,debounce=function(){var a={};return function(c,d,b){if(!b)b="Don't call this twice without a unique ID";a[b]&&clearTimeout(a[b]);a[b]=setTimeout(c,d)}}();SantaMaria.main=function(){var f=function(){b();a();e()},b=function(){var b=window.innerWidth,a=$win.width();if(a<=mobileBreakpoint){siteSettings.windowWidth=b;siteSettings.bodyWidth=a;siteSettings.device="mobile"}else if(a<=tabletBreakpoint){siteSettings.windowWidth=b;siteSettings.bodyWidth=a;siteSettings.device="tablet"}else{siteSettings.windowWidth=b;siteSettings.bodyWidth=a;siteSettings.device="desktop"}},c=function(){$("article").each(function(){$(".truncate-mobile",this).expander({slicePoint:200,expandPrefix:"",expandText:"Visa mer",expandEffect:"slideDown",expandSpeed:200,userCollapseText:"Dölj",collapseEffect:"slideUp",collapseSpeed:200})})},a=function(){var a=$(".truncate-mobile"),d=a.find(".summary"),b=a.find(".details");if(siteSettings.device==="mobile"){c();d.show().find(".read-more, .read-less").show();b.hide().find(".read-more, .read-less").show()}else{d.hide();b.show().find(".read-more, .read-less").hide()}},e=function(){$(".modal-link").click(function(d){d.preventDefault();var c=$(".modal"),a=$("body"),b=$(".modal-close",c);a.addClass("modal-open");b.click(function(){a.removeClass("modal-open")})})},d=function(c,a){var b=c.offset().top-(siteSettings.device==="desktop"?85:64);$("html, body").animate({scrollTop:b},300,function(){a&&typeof a==="function"&&a()})};return{init:f,setSettings:b,checkTruncate:a,scrollPage:d}}();$(document).ready(function(){$("html").removeClass("no-js");SantaMaria.main.init();SantaMaria.header.init();SantaMaria.articles.init();SantaMaria.recipe.init();SantaMaria.contest.init()});$win.load(function(){SantaMaria.blocks.init()}).resize(function(){debounce(function(){SantaMaria.main.setSettings();SantaMaria.main.checkTruncate();SantaMaria.blocks.setBlockSizes()},200,"blockResizer")});SantaMaria.header=function(){var c=function(){d();b();a()},d=function(){$(".btn_menu").click(function(a){a.preventDefault();$("nav").toggleClass("open");$("html").toggleClass("nav-open")});$(".navigation").find("a").click(function(c){c.preventDefault();var a=$(this),b=a.attr("href").substring(1);a.parent("li").addClass("on").siblings().removeClass("on");SantaMaria.main.scrollPage($("#"+b),function(){$("nav").removeClass("open");$("html").removeClass("nav-open")})})},b=function(){$("#logo").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:0},200)})},a=function(){var b=$("header"),a=false;$win.scroll(function(){if($win.scrollTop()>0){if(!a){a=true;b.addClass("fixed")}}else if(a){a=false;b.removeClass("fixed")}}).scroll()};return{init:c}}();SantaMaria.articles=function(){var b=function(){a()},a=function(){$(".btn_next-section").click(function(){var d=$(this),a=d.parents("article").next(),b=a.position().top,c=a.index();$("html, body").animate({scrollTop:b-85},300);$("li",$(".navigation")).eq(c).addClass("on").siblings("li").removeClass("on")})};return{init:b}}();SantaMaria.blocks=function(){var e=function(){d();a()},a=function(){var a=$(".article_block .blocks:not(.blocks-1)"),e=a.length,d=0;if(siteSettings.device==="mobile"){a.each(function(){var b=$(".block",this);b.width(a.width());$(".swiper",this).width(b.length*b.width())});b()}else{$(".swiper").removeAttr("style").swipe("disable");$(".block",a).css("width","")}while(d<e){var f=$(".block",a.eq(d)).css("height","");c(f);d++}},c=function(b){var a=0,e=b.length,c=0,d=0;while(c<e){a=b.eq(c).innerHeight()>a?b.eq(c).innerHeight():a;c++}while(d<e){b.eq(d).height(a);d++}},b=function(){$(".article_block").each(function(){var d=$(this),e=d.find(".swiper"),b=$win.width()-40,a=0,f=500,h=d.find(".blockpager span"),g=e.find(".block").length;g>1&&e.swipe({swipeStatus:j,allowPageScroll:"vertical"});h.click(function(){var e=$(this).index(),c="-"+e*b;a=e;d.find(".swiper").css({"-webkit-transition-duration":"0.5s","-moz-transition-duration":"0.5s","-o-transition-duration":"0.5s","transition-duration":"0.5s","-webkit-transform":"translate3d("+c+"px, 0, 0)","-moz-transform":"translate3d("+c+"px, 0, 0)","-ms-transform":"translate3d("+c+"px, 0, 0)","-o-transform":"translate3d("+c+"px, 0, 0)",transform:"translate3d("+c+"px, 0, 0)"});$(this).addClass("on").siblings().removeClass("on")});function j(n,e,d,g){if(e==="move"&&(d==="left"||d==="right")){i();var h=0;if(d==="left")c(b*a+g,h);else d==="right"&&c(b*a-g,h)}else if(e==="cancel")c(b*a,f);else if(e==="end"){if(d==="left")k();else d==="right"&&l();m()}}function l(){b=$win.width()-40;a=Math.max(a-1,0);c(b*a,f)}function k(){b=$win.width()-40;a=Math.min(a+1,g-1);c(b*a,f)}function m(){h.eq(a).addClass("on").siblings().removeClass("on")}function i(){d.find(".videowrapper").remove();d.find(".blockimage").removeClass("has_video").find("img, .btn_play").show()}function c(c,b){var a=(c<0?"":"-")+Math.abs(c).toString();e.css({"-webkit-transition-duration":(b/1e3).toFixed(1)+"s","-moz-transition-duration":(b/1e3).toFixed(1)+"s","-o-transition-duration":(b/1e3).toFixed(1)+"s","transition-duration":(b/1e3).toFixed(1)+"s","-webkit-transform":"translate3d("+a+"px, 0, 0)","-moz-transform":"translate3d("+a+"px, 0, 0)","-ms-transform":"translate3d("+a+"px, 0, 0)","-o-transform":"translate3d("+a+"px, 0, 0)",transform:"translate3d("+a+"px, 0, 0)"})}})},d=function(){$(".block.video").each(function(){$(".blockimage",$(this)).on("click touchend",function(){var a=$(this),c=a.data("videoid"),b='<div class="videowrapper"><iframe src="http://www.youtube.com/embed/'+c+'?autoplay=1&modestbranding=1&rel=0&showinfo=0&hd=1&autohide=1" frameborder="0" allowfullscreen></iframe></div>';a.append(b).addClass("has_video")})})};return{init:e,setBlockSizes:a}}();SantaMaria.recipe=function(){var c=function(){b();a()},b=function(){$(".article_recipe").each(function(){var a=$(this),c=$(".arrow.next",a),d=$(".arrow.prev",a),b=$(".recipe_blocks",a);c.click(function(){$(".recipe_item:first",a).appendTo(b)});d.click(function(){$(".recipe_item:last",a).prependTo(b)})})},a=function(){$(".receipeheader").click(function(){$(this).parents(".ingredients").toggleClass("closed")})};return{init:c}}();SantaMaria.contest=function(){var e=function(){b()},a=function(b){var a={},c=b.serializeArray();$.each(c,function(){if(a[this.name]!==undefined){if(!a[this.name].push)a[this.name]=[a[this.name]];a[this.name].push(this.value||"")}else a[this.name]=this.value||""});return a},b=function(){$("form").submit(function(b){b.preventDefault();var a=$(this);$("[required]",a).each(function(){var a=$(this);if(a.is(":checkbox"))if(!a[0].checked)a.addClass("error");else a.removeClass("error");else if(a.val()=="")a.addClass("error");else a.removeClass("error")}).keydown(function(){$(this).removeClass("error")});$('input[type="email"]',a).each(function(){var a=$(this);if(!c(a.val())||a.val()=="")a.addClass("error");else a.removeClass("error")}).keydown(function(){$(this).removeClass("error")});if($(".error",a).length){$(".error:first",a).focus();return false}d(a)})},c=function(a){return/(.+)@(.+){2,}\.(.+){2,}/.test(a)},d=function(b){var c=b.attr("action");$(".btn_link",b).addClass("loading").attr("disabled",true);$.ajax({url:c,type:"POST",data:JSON.stringify(a(b)),contentType:"application/json; charset=utf-8",dataType:"json",success:function(){$(".formelements, .submit",b).hide();$(".contestconfirm_content",b).show();SantaMaria.main.scrollPage($(".contestform"))},error:function(){$(".formelements, .submit",b).hide();$(".contesterror_content",b).show();SantaMaria.main.scrollPage($(".contestform"))}})};return{init:e}}()